@let allItems = data();
@let dataList = receivedData();

<div class="pagination-container">
    <app-pagination [dataInput]="allItems" (dataOutput)="handleDataOutput($event)"></app-pagination>
</div>

<div class="card-container" [style.--maxHeight.px]="maxHeight()" [style.--width.px]="width">
    @for (data of dataList; let index = $index; track data.id) {
    <div class="card">
        <img [ngSrc]="data.imageUrl ?? ''" [alt]="data.name" width="300" height="200" class="product-image" priority />
        <div class="product-info">
            <div class="info-header">
                <a [routerLink]="['/products/detail', data.id]" [title]="data.name">{{ data.name }}</a>
                <p class="product-category" [title]="data.categoryName">{{ data.categoryName }}</p>
            </div>
            <p class="product-price" [title]="data.price">{{ data.price | currency:'VND':'symbol':'1.0-0' }}</p>
            <p class="product-stock" [title]="data.stock"><span>Stock: </span>{{ data.stock }}</p>
            <p [title]="data.description" class="product-description"><span>Description: </span>{{ data.description }}
            </p>
        </div>
        <div class="action-buttons">
            <button><i class="fa-solid fa-chevron-up"></i></button>
            <div class="button-group">
                <button type="button" (click)="handleEmit('add', index)"><i class="fa-solid fa-heart"></i>Add to
                    cart</button>
                <button type="button" (click)="handleEmit('buy', index)"><i class="fa-solid fa-credit-card"></i>Buy
                    Now</button>
            </div>
        </div>
    </div>
    }
</div>
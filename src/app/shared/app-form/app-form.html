<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <h2>{{ formTitle() }}</h2>
    @if(form.get('fullName')?.errors?.['pattern']){
    <div>
        <small>{{ errorMessage.INVALID_FULLNAME }}</small>
    </div>
    }
    @if(form.get('username')?.errors?.['pattern']){
    <div>
        <small>{{ errorMessage.INVALID_USERNAME }}</small>
    </div>
    }
    @if(form.get('phoneNumber')?.errors?.['pattern']){
    <div>
        <small>{{ errorMessage.INVALID_PHONE_NUMBER }}</small>
    </div>
    }
    @if(form.get('password')?.errors?.['minlength'] && form.get('password')?.touched){
    <div>
        <small>{{ errorMessage.PASSWORD_MINLENGTH }}</small>
    </div>
    }
    @if(form.errors?.['passwordMismatch'] && !form.get('password')?.errors?.['minlength']){
    <div>
        <small>{{ errorMessage.PASSWORD_MISMATCH }}</small>
    </div>
    }
    @if(errorSignal(); as errorSignal){
    <div>
        <small>{{ errorSignal }}</small>
    </div>
    }
    @for(field of fields(); track field.name) {
    <div class="form-input">
        <input [type]="field.type" [id]="field.name" [formControlName]="field.name" #formInput>
        <label [for]="field.name">{{ field.label }}</label>
    </div>
    }
    @if(buttonLabel(); as buttonLabel){
    <button type="submit" [ngClass]="{'no-active' : form.invalid}">
        {{ buttonLabel }}
    </button>
    }
</form>
@let categoryName = selectedCategoryName();
@let user = currentUser();
@let expanding = isExpanding();
@let width = currentWidth();

<div class="category-container" [style.width.px]="width" appResizable [minWidth]="minWidth" [maxWidth]="maxWidth"
    [directions]="['right']" [enable]="true" #categoryTab>
    <div>
        <button type="button" (click)="toggleTab()" [title]="titleBtn">
            <i class="fa-solid" [ngClass]="{'fa-chevron-left' : expanding, 'fa-chevron-right': !expanding }"></i>
        </button>
    </div>
    <div>
        @if(!user || user.role === 'User'){
        <ul>
            <li [ngClass]="{ 'active': categoryName === ''}" (click)="onCategoryClick('')" [title]="textFirstCategory">
                <i class="fa-solid fa-border-all"></i>
                {{ textFirstCategory }}
            </li>
            @for(category of categories(); track category.id){
            <li [ngClass]="{ 'active': categoryName === category.name}" (click)="onCategoryClick(category.name!)"
                [title]="category.name">
                <i class='fa-solid fa-{{category.icon}}'></i>
                {{ category.name }}
            </li>
            }
        </ul>
        } @else if(user.role === 'Admin'){
        <ul>
            @for(router of routers; track router){
            <li [ngClass]="{'active': categoryName === router.route}" [routerLink]="['/admin/' + router.route]"
                [state]="{ isAdmin: true }" (click)="onCategoryClick(router.route)">
                <i class='fa-solid {{router.icon}}'></i>
                {{ router.route }}
            </li>
            }
        </ul>
        }
    </div>
</div>

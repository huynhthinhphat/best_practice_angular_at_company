<header class="header">
  <div class="header-container">
    <a routerLink="/home" class="logo">Mini Shop</a>

    @if(currentUser()?.role !== 'Admin'){
    <input type="text" class="search-box" placeholder="Search..." list="products"
      (input)="searchProduct($event.target.value)">
    <datalist id="products">
      @for(product of products(); track product.id){
      <option [value]="product.name"></option>
      }
    </datalist>
    }

    <nav class="nav-menu">
      @if(!isVisible && currentUser() == null){
      <div class="auth-buttons">
        <a routerLink="/login" class="btn btn-login">Login</a>
        <a routerLink="/register" class="btn btn-register">Register</a>
      </div>
      } @else {
      <div>
        <p>Welcome, {{ currentUser()?.fullName }}</p>
        @if(currentUser()?.role === 'User'){
        <button [routerLink]="['/orders/user']" class="btn">ðŸ“¦ Orders</button>
        <button [routerLink]="['/cart', currentUser()?.id]" class="btn">ðŸ›’ Cart ({{ quantityItems() }})</button>
        }
        <button (click)="logout()" class="btn btn-logout">ðŸšª Logout</button>
      </div>
      }
    </nav>

    <nav class="nav-bars">
      <div (click)="toggleMenu()">
        â˜° Menu
        @if(isShowMenu()){
        <ul>
          @if(!isVisible && currentUser() == null){
          <li>
            <a routerLink="/login">Login</a>
          </li>
          <li>
            <a routerLink="/register">Register</a>
          </li>
          }@else {
          @if(currentUser()?.role === 'User'){
          <li>
            <a [routerLink]="['/orders/user']">ðŸ“¦ Orders</a>
          </li>
          <li>
            <a [routerLink]="['/cart', currentUser()?.id]">ðŸ›’ Cart ({{ quantityItems() }})</a>
          </li>
          }
          <li>
            <a (click)="logout()">ðŸšª Logout</a>
          </li>
          }
        </ul>
        }
      </div>
    </nav>
  </div>
</header>
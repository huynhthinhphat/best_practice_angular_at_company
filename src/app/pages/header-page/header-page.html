<header class="header">
  <div class="header-container">
    <a routerLink="/home" class="logo">Mini Shop</a>

    @if(currentUserSignal()?.role === 'User'){
    <input type="text" class="search-box" placeholder="Search..." list="products"
      (input)="searchProduct($event.target.value)">
    <datalist id="products">
      @for(product of products(); track product.id){
      <option [value]="product.name"></option>
      }
    </datalist>
    }

    <nav class="nav-menu">
      @if(!isVisible && currentUserSignal() == null){
      <div class="auth-buttons">
        <a routerLink="/login" class="btn btn-login">Login</a>
        <a routerLink="/register" class="btn btn-register">Register</a>
      </div>
      } @else {
      <div>
        <p>Welcome, {{ currentUserSignal()?.fullName }}</p>
        @if(currentUserSignal()?.role === 'User'){
        <button [routerLink]="['/orders/user']" class="btn">ðŸ“¦ Orders</button>
        <button [routerLink]="['/cart', currentUserSignal()?.id]" class="btn">ðŸ›’ Cart ({{ quantityItems() }})</button>
        }
        <button (click)="logout()" class="btn btn-logout">Logout</button>
      </div>
      }
    </nav>
  </div>
</header>